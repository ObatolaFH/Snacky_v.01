using System;
using UnityEngine;

public class mazeBuilder : MonoBehaviour
{
    //private SpriteRenderer spriteRenderer;
    //public Sprite test;
    public Transform parent;
    public float factor;

    //public Sprite one;
    // Start is called before the first frame update
    int[,] mazeAr = new int[27, 25] {
                                    { 3, 1, 7, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 7, 1, 4 },
                                    { 2, 0,22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,22, 0, 2 },
                                    { 2, 0,20,21,21,21,18, 0,27,21,21,21,26,21,21,21,28, 0,17,21,21,21,19, 0, 2 },
                                    { 2, 0, 0, 0, 0, 0,22, 0, 0, 0, 0, 0,30, 0, 0, 0, 0, 0,22, 0, 0, 0, 0, 0, 2 },
                                    { 2, 0,29, 0,29, 0,22, 0,29, 0,29, 0, 0, 0,29, 0,29, 0,22, 0,29, 0,29, 0, 2 },
                                    { 2, 0,22, 0,22, 0,30, 0,22, 0,24,28, 0,27,23, 0,22, 0,30, 0,22, 0,22, 0, 2 },
                                    { 2, 0,22, 0,22, 0, 0, 0,22, 0,22, 0, 0, 0,22, 0,22, 0, 0, 0,22, 0,22, 0, 2 },
                                    { 2, 0,22, 0,20,21,26,21,19, 0,30, 0,29, 0,30, 0,20,21,26,21,19, 0,22, 0, 2 },
                                    { 2, 0,22, 0, 0, 0,30, 0, 0, 0, 0, 0,22, 0, 0, 0, 0, 0,30, 0, 0, 0,22, 0, 2 },
                                    { 2, 0,22, 0,29, 0, 0, 0,17,21,21,21,25,21,21,21,18, 0, 0, 0,29, 0,22, 0, 2 },
                                    { 2, 0,30, 0,20,21,18, 0,22, 0, 0, 0, 0, 0, 0, 0,22, 0,17,21,19, 0,30, 0, 2 },
                                    { 2, 0, 0, 0, 0, 0,22, 0,22, 0, 3, 1,31, 1, 4, 0,22, 0,22, 0, 0, 0, 0, 0, 2 },
                                    { 6, 1, 1, 1, 1, 0,30, 0,30, 0, 2,31,31,31, 2, 0,30, 0,30, 0, 1, 1, 1, 1, 5 },
                                    {31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2,31,31,31, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0,31 },
                                    { 3, 1, 1, 1, 1, 0,29, 0,29, 0, 2,31,31,31, 2, 0,29, 0,29, 0, 1, 1, 1, 1, 4 },
                                    { 2, 0, 0, 0, 0, 0,22, 0,22, 0, 6, 1, 1, 1, 5, 0,22, 0,22, 0, 0, 0, 0, 0, 2 },
                                    { 2, 0,29, 0,17,21,19, 0,22, 0, 0, 0,31, 0, 0, 0,22, 0,20,21,18, 0,29, 0, 2 },
                                    { 2, 0,22, 0,30, 0, 0, 0,20,21,21,21,26,21,21,21,19, 0, 0, 0,30, 0,22, 0, 2 },
                                    { 2, 0,22, 0, 0, 0,29, 0, 0, 0, 0, 0,22, 0, 0, 0, 0, 0,29, 0, 0, 0,22, 0, 2 },
                                    { 8,21,23, 0,17,21,25,21,18, 0,29, 0,30, 0,29, 0,17,21,25,21,18, 0,24,21, 9 },
                                    { 2, 0,22, 0,22, 0, 0, 0,22, 0,22, 0, 0, 0,22, 0,22, 0, 0, 0,22, 0,22, 0, 2 },
                                    { 2, 0,22, 0,22, 0,29, 0,22, 0,24,28, 0,27,23, 0,22, 0,29, 0,22, 0,22, 0, 2 },
                                    { 2, 0,30, 0,30, 0,22, 0,30, 0,30, 0, 0, 0,30, 0,30, 0,22, 0,30, 0,30, 0, 2 },
                                    { 2, 0, 0, 0, 0, 0,22, 0, 0, 0, 0, 0,29, 0, 0, 0, 0, 0,22, 0, 0, 0, 0, 0, 2 },
                                    { 2, 0,17,21,21,21,19, 0,27,21,21,21,25,21,21,21,28, 0,20,21,21,21,18, 0, 2 },
                                    { 2, 0,22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,22, 0, 2 },
                                    { 6, 1,10, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,10, 1, 5 }
    };
    void Start()
    {
        builder(mazeAr);
    }

    // Update is called once per frame
    void Update()
    {
        
    }

    void builder(int[,] maze)
    {
        GameObject[] mazeObjects = GameObject.FindGameObjectsWithTag("mazeObj");
        for (int i = 0; i < mazeObjects.Length; i++)
        {
            print(mazeObjects[i].name + ", " + i);
        }


        for (int x = 0; x < maze.GetLength(0); x++)
        {
            for (int y = 0; y < maze.GetLength(1); y++)
            {
                Vector3 eulerRotation = new Vector3(mazeObjects[maze[x, y]].transform.eulerAngles.x, mazeObjects[maze[x, y]].transform.eulerAngles.y, mazeObjects[maze[x, y]].transform.eulerAngles.z);

                GameObject clone = Instantiate(mazeObjects[maze[x, y]], new Vector3(transform.position.x + (y * factor), transform.position.y - (x * factor), 0), Quaternion.Euler(eulerRotation));

                clone.name = x + " " + y + ": " + mazeObjects[maze[x, y]].name;
                clone.transform.parent = parent;
            }
        }
    }
}
